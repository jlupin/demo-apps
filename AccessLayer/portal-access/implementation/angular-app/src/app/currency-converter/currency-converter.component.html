<!-- AccessLayer/portal-access/angular-app/src/app/currency-converter/currency-converter.component.html -->
<div class="row justify-content-center header-container">
  <h1 class="text-center"><span class="logo"></span>Currency converter</h1>
</div>

<div class="row comment">
  <p>This example application takes your input, sends it to access layer microservice written using Spring REST (based on Spring Boot and fully managed by JLUPIN Next Server), then internally sends data to business logic microservice. The output result is table with amount you typed converted to USD, EUR, GBP.</p>
</div>

<div class="row justify-content-center form-container">
  <form class="form-inline" #convertForm="ngForm" (ngSubmit)="convert(usd.value); usd.value=''">
    <div class="form-group">
      <div class="input-group">
        <div class="input-group-addon">$</div>
        <input class="form-control" placeholder="Type in amount to convert..." pattern="\d+(\.\d{2})?" #usd/>
      </div>
      <button class="btn btn-primary" type="submit">Convert</button>
    </div>
  </form>
</div>

<div class="architecture">
  <div class="computer"></div>
  <div class="micro-app-web"><div *ngIf="animationRunning" class="shadow"></div></div>
  <div class="connector"></div>
  <div class="main-server"><div *ngIf="animationRunning" class="shadow"></div></div>
  <div class="connector"></div>
  <div class="micro-app"><div *ngIf="animationRunning" class="shadow"></div></div>
</div>

<div *ngIf="convertedAmount && !animationRunning" class="row justify-content-center result-container fade-in">
  <table class="table table-striped">
    <tbody>
    <tr>
      <th scope="row">USD</th>
      <td>{{ convertedAmount.usd.toFixed(2) }}</td>
    </tr>
    <tr>
      <th scope="row">EUR</th>
      <td>{{ convertedAmount.eur.toFixed(2) }}</td>
    </tr>
    <tr>
      <th scope="row">GBP</th>
      <td>{{ convertedAmount.gbp.toFixed(2) }}</td>
    </tr>
    </tbody>
  </table>
</div>

<div *ngIf="errorMessage && !animationRunning" class="alert alert-danger fade-in" role="alert">
  {{ errorMessage }}
</div>
