<!-- AccessLayer\portal-access\angular-app\src\index.html -->
<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Currency converter</title>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body id="body">
  <div class="container">
    <app-root><p class="text-center">Loading...</p></app-root>
  </div>

  <script type="text/javascript">
    function loadAngular() {
      var pref = window.location.pathname.split("/").length > 2 ? "/" + window.location.pathname.split("/")[1] : "";

      var baseElements = document.head.getElementsByTagName("base");
      for (var i = 0; i < baseElements.length; i += 1) {
        document.head.removeChild(baseElements[i]);
      }

      var baseElm = document.createElement("base");
      baseElm.href = pref;
      document.head.appendChild(baseElm);

      var links = [
        "assets/external/bootstrap.min.css"
      ];

      for (var i = 0; i < links.length; i += 1) {
        var link = links[i];
        var linkElm = document.createElement("link");
        linkElm.rel= "stylesheet";
        linkElm.href = pref + "/" + link;
        document.head.appendChild(linkElm);
      };

      var scripts = [
        "assets/external/jquery-3.1.1.slim.min.js",
        "assets/external/tether.min.js",
        "assets/external/bootstrap.min.js",
        "inline.bundle.js",
        "polyfills.bundle.js",
        "styles.bundle.js",
        "vendor.bundle.js",
        "main.bundle.js"
      ];

      for (var i = 0; i < scripts.length; i += 1) {
        var script = scripts[i];
        setTimeout(function(script) {
          var jsElm = document.createElement("script");
          jsElm.type = "text/javascript";
          jsElm.src = pref + "/" + script;
          document.body.appendChild(jsElm);
        }, i * 1000, script);
      };
    };

    loadAngular();
  </script>
</body>
</html>
